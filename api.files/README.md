# Подсистема управления файлами

Изначально предназначалось для сжатия файлов, но после обсуждений, было принято решение о переводе работы всех микросервисов с файлами в отдельный сервис, то есть сюда.

Главное правило - тут лишь работают с файлами! Никаких вычислений и машинного обучения. Передаешь файлы, преобразуешь и сжимаешь, сохраняешь в БД и на сервере в распределенной системе папок.

Все написано на Typescript, чтобы не было проблем у вас как разработчика. Можешь делать большие интерфейсы, громадные абстракции, но я использую typescript, чтобы типизировать запросы и атрибуты у функций. Так более надежнее.

Смотри, в `API/Controllers` у нас находятся обработчики для работы с БД. То есть, если тебе просто надо получить или изменить что-то с БД, создавай там файлы, к примеру `video.ts`. Если тебе надо работать с файловой системой и прочими функциями - пиши в `Api/Services`. Есть исключения, но все таки старайся придерживаться таких правил.

В `API/middleware` пишешь разные правила для запросов. По сути просто if/else на то, есть ли такой query или какой-нибудь атрибут в body и если нет - вернуть ошибку.

Все запросы типизированы. Следуй им при запросах (если надо вызвать ошибку: `throw new Error("...")`):

```json
{
	"success": "boolean",
	"data": "object",
	"message": "string"
}
```

# TODO:

1. Перенести файлы чатов сюда
2. Сжимать и работать с видео
3. Написание тестов
4. Обеспечение надежности
